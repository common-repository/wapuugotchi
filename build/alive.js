(()=>{"use strict";(new class{init=t=>{Array.isArray(t)&&0!==t.length&&(this.animations=t,this.animateAvatar())};animateAvatar=()=>{this.waitForElement("#wapuugotchi_type__wapuu").then((t=>{if(!t)return;const e=()=>{Array.from(t.querySelectorAll("style")).forEach((t=>t.remove()));const a=Math.floor(Math.random()*this.animations.length),n=this.animations[a],i=document.createElement("style");t.appendChild(i),i.appendChild(document.createTextNode(n));const r=i.sheet.cssRules;if(!(r instanceof CSSRuleList))return void t.removeChild(i);const o=this.getMinDelay(r);Array.from(r).forEach((t=>{t instanceof CSSStyleRule&&(t.style.animationDelay=parseFloat(t.style.animationDelay)-o+"s")})),this.duration=Math.floor(this.getMaxDuration(r)+(15*Math.random()+5)),setTimeout(e,1e3*this.duration)};e()}))};getMaxDuration=t=>{if(!(t instanceof CSSRuleList))return 0;const e=Array.from(t).filter((t=>t instanceof CSSStyleRule)).map((t=>parseFloat(t.style.animationDuration))).filter((t=>!isNaN(t)));return Math.max(...e)};getMinDelay=t=>{if(!(t instanceof CSSRuleList))return 0;const e=Array.from(t).filter((t=>t instanceof CSSStyleRule)).map((t=>parseFloat(t.style.animationDelay))).filter((t=>!isNaN(t)));return Math.min(...e)};waitForElement=t=>{const e=document.querySelector(t);return e?Promise.resolve(e):new Promise((e=>{new MutationObserver(((a,n)=>{a.forEach((()=>{const a=document.querySelector(t);a&&(n.disconnect(),e(a))}))})).observe(document.getElementById("wpbody-content"),{childList:!0,subtree:!0})}))}}).init(wapuugotchiAnimations)})();